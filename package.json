{
  "name": "xbuild",
  "version": "0.1.13",
  "description": "A Build System for Docker Images",
  "license": "MIT",
  "repository": {
    "type": "git",
    "url": "git@github.com:x-company/xbuild.git"
  },
  "bugs": {
    "url": "https://github.com/x-company/xbuild/issues"
  },
  "homepage": "https://github.com/x-company/xbuild",
  "author": "Roland Breitschaft <info@x-company.de> (https://www.x-company.de)",
  "keywords": [
    "docker",
    "build"
  ],
  "config": {
    "image_name": "xcompany/xbuild"
  },
  "scripts": {
    "docker:clean": "docker system prune -f",
    "docker:clean:image": "docker image rm -f $npm_package_config_image_name:$npm_package_version",
    "docker:clean:latest": "docker image rm -f $npm_package_config_image_name:latest",
    "docker:build": "docker build --target prod --label version=$npm_package_version --tag $npm_package_config_image_name:$npm_package_version --rm .",
    "docker:tag": "docker image tag $npm_package_config_image_name:$npm_package_version $npm_package_config_image_name:latest",
    "clean": "yarn docker:clean:image && yarn docker:clean:latest",
    "prebuild": "appvmgr update build",
    "build": "yarn docker:build",
    "postbuild": "yarn docker:tag && git add . && git commit -m 'Automatic Build Commit'",
    "test": "docker-compose -f ./tests/unit/docker-compose.yml up",
    "test:clean": "docker container prune -f && docker image rm -f xcompany/xbuild:unit",
    "release": "yarn build && appvmgr add-git-tag && git push --tags && git push --all"
  },
  "devDependencies": {
    "appversion-mgr": "^0.7.0",
    "nyc": "^14.1.1"
  }
}
